<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" onclick=closeModal("passageSelectionConfirmModal")>X</button>
</div>
<div id="bookchaptermodalbody" class="modal-body">
</div>
<div class="footer">
</div>
<script>
    var userLang = "en";
    $(document).ready(function () {
        userLang = step.state.language() || "en-US";
        var html = _buildConfirmHeaderAndSkeleton();
        $('#bookchaptermodalbody').append(html);
    });


    function _buildConfirmHeaderAndSkeleton() {
        return '<div class="header">' +
            '<h4>' + __s.please_select + ':</h4>' +
            '</div><br>' +
            '<button type="button" onclick="_goToUserSelection(true)" ' + 
                'style="padding:6px 7px 5px 7px;color:#498090;font-size:14px;line-height:13px;border-radius:4px;background:#fffff;border:1px solid #498090">' +
                '<div>' + __s.update_search_range + '</div></button><br><br>' +
            '<button type="button" onclick="_goToUserSelection(false)" ' + 
                'style="padding:6px 7px 5px 7px;color:#498090;font-size:14px;line-height:13px;border-radius:4px;background:#ffffff;border:1px solid #498090">' +
                '<div>' + __s.click_passage + '</div></button>' +            
            '</div>';
    }

    function _goToUserSelection(userSelection) {
        closeModal('passageSelectionConfirmModal');
		closeModal('searchSelectionModal');
		closeModal('passageSelectionModal');
        if (userSelection) step.util.searchSelectionModal(true);
        else step.util.passageSelectionModal(-1, true); // PT: come back to check this
    }

    function closeModal(modalID) {
        var element = document.getElementById(modalID);
		if (element) {	
			$('#' + modalID).modal('hide');
			$('#' + modalID).modal({
				show: false
			});
			element.parentNode.removeChild(element);
		}
    }
</script>
